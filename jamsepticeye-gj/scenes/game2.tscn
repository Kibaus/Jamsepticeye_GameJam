[gd_scene load_steps=17 format=3 uid="uid://b3hbnq2txfjwg"]

[ext_resource type="Script" uid="uid://317eykhdk4xp" path="res://scripts/game_scripts/door_manager.gd" id="1_2eeft"]
[ext_resource type="Texture2D" uid="uid://7snjjnkk1gxm" path="res://art/symbols/sun.png" id="2_v4v8k"]
[ext_resource type="Texture2D" uid="uid://cekhhccdmjr2r" path="res://art/symbols/moon.png" id="3_oibj5"]
[ext_resource type="Texture2D" uid="uid://b822hysv0h76d" path="res://art/symbols/sword.png" id="4_deeqb"]
[ext_resource type="Texture2D" uid="uid://dsysib0yp4ada" path="res://art/symbols/shield.png" id="5_q7h7c"]
[ext_resource type="PackedScene" uid="uid://cdnllgoxrg6cx" path="res://scenes/game_components/ghost_door.tscn" id="6_1hpkv"]
[ext_resource type="PackedScene" uid="uid://dncheeietg615" path="res://scenes/level.tscn" id="7_erv2c"]
[ext_resource type="PackedScene" uid="uid://rol1o4iavw6g" path="res://scenes/game_components/door.tscn" id="7_yam7v"]
[ext_resource type="PackedScene" uid="uid://ef75tbayd3fy" path="res://scenes/game_components/switch.tscn" id="8_gokrx"]
[ext_resource type="PackedScene" uid="uid://bi1fcsxwupdxd" path="res://scenes/components/player.tscn" id="9_lv1cq"]
[ext_resource type="Texture2D" uid="uid://b678t5hbo33kn" path="res://art/symbols/fire.png" id="9_q7h7c"]
[ext_resource type="Texture2D" uid="uid://ciyuekve8fo0a" path="res://art/symbols/ice.png" id="10_1hpkv"]
[ext_resource type="Texture2D" uid="uid://d0ma0tlwura4q" path="res://art/symbols/life.png" id="11_yam7v"]
[ext_resource type="Texture2D" uid="uid://ceypind6xwrr2" path="res://art/symbols/death.png" id="12_gokrx"]
[ext_resource type="PackedScene" uid="uid://uay783v8jlm2" path="res://scenes/enemy.tscn" id="15_erv2c"]

[sub_resource type="NavigationMesh" id="NavigationMesh_q7h7c"]
vertices = PackedVector3Array(12.634177, 0.4243663, -10.170441, 12.634177, 0.4243663, -9.420441, 12.884177, 0.4243663, -9.420441, 13.634177, 0.4243663, -11.670441, -1.1158228, 0.4243663, -9.420441, -0.6158228, 0.4243663, -9.420441, -0.6158228, 0.4243663, -10.170441, -1.1158228, 0.4243663, -10.170441, 6.634177, 0.4243663, -16.92044, 11.884177, 0.4243663, -16.42044, 13.384177, 0.4243663, -18.42044, -0.11582279, 0.4243663, -10.420441, -0.11582279, 0.4243663, -16.42044, -1.8658228, 0.4243663, -18.42044, -1.8658228, 0.4243663, -10.420441, 13.134177, 0.4243663, -15.920441, 13.634177, 0.4243663, -17.17044, 11.884177, 0.4243663, -10.420441, 13.634177, 0.4243663, -14.920441, 1.3841772, 0.4243663, -15.420441, 1.3841772, 0.4243663, -13.920441, 10.634177, 0.4243663, -13.920441, 10.634177, 0.4243663, -15.420441, -0.3658228, 0.4243663, -8.670441, -1.3658228, 0.4243663, -8.670441, -1.3658228, 0.4243663, -5.1704407, 0.13417721, 0.4243663, -5.1704407, 8.884177, 0.4243663, -8.670441, 4.634177, 0.4243663, -8.670441, 4.634177, 0.4243663, -7.4204407, 0.6341772, 0.4243663, -4.6704407, 0.6341772, 0.4243663, -2.6704407, 3.3841772, 0.4243663, -2.6704407, 3.3841772, 0.4243663, -5.6704407, 3.8841772, 0.4243663, -7.1704407, 3.8841772, 0.4243663, -6.4204407, 4.634177, 0.4243663, -6.1704407, 8.884177, 0.4243663, -4.9204407, 3.3841772, 0.4243663, -7.9204407, 4.634177, 0.4243663, -4.9204407, 3.6341772, 0.4243663, -8.920441, 12.384177, 0.4243663, -8.670441, 13.384177, 0.4243663, -8.670441, 15.134177, 0.4243663, -7.1704407, 15.634177, 0.4243663, -7.9204407, 15.134177, 0.4243663, -8.170441, 15.134177, 0.4243663, 0.32955933, 15.384177, 0.4243663, -4.1704407, 14.884177, 0.4243663, -4.6704407, 15.384177, 0.4243663, -8.920441, 10.134177, 0.4243663, -8.920441, 10.384177, 0.4243663, 0.32955933, 15.384177, 0.4243663, -4.9204407, -9.365823, 0.4243663, -5.6704407, -9.615823, 0.4243663, -4.6704407, -6.115823, 0.4243663, -4.6704407, -5.865823, 0.4243663, -5.1704407, -9.365823, 0.4243663, -7.9204407, -9.865823, 0.4243663, -6.4204407, -10.365823, 0.4243663, -7.1704407, -10.615823, 0.4243663, -6.1704407, -14.865823, 0.4243663, -4.9204407, -10.615823, 0.4243663, -4.9204407, -10.615823, 0.4243663, -8.670441, -14.865823, 0.4243663, -8.670441, -9.615823, 0.4243663, -8.920441, -7.865823, 0.4243663, 6.3295593, -7.365823, 0.4243663, 6.3295593, -7.115823, 0.4243663, 5.5795593, -8.115823, 0.4243663, 5.5795593, -5.865823, 0.4243663, 4.3295593, -4.865823, 0.4243663, 4.5795593, -5.365823, 0.4243663, 3.8295593, -6.115823, 0.4243663, 3.5795593, -11.115823, 0.4243663, 5.8295593, -10.615823, 0.4243663, 5.5795593, -10.615823, 0.4243663, 4.5795593, -6.115823, 0.4243663, 5.5795593, -9.865823, 0.4243663, 4.3295593, -9.365823, 0.4243663, 5.5795593, -9.615823, 0.4243663, 3.5795593, -9.365823, 0.4243663, -2.6704407, -0.6158228, 0.4243663, 5.5795593, -0.6158228, 0.4243663, 2.0795593, -4.865823, 0.4243663, 3.3295593, -4.865823, 0.4243663, 5.8295593, -14.865823, 0.4243663, 5.5795593, -10.615823, 0.4243663, 3.5795593, -14.865823, 0.4243663, 2.0795593, -4.865823, 0.4243663, 2.0795593, -10.615823, 0.4243663, -2.1704407, -10.615823, 0.4243663, -3.4204407, -14.865823, 0.4243663, -3.4204407, -10.615823, 0.4243663, 2.0795593, -9.865823, 0.4243663, -1.9204407, -9.365823, 0.4243663, -0.6704407, -10.365823, 0.4243663, -1.4204407, -14.865823, 0.4243663, 0.32955933, -10.615823, 0.4243663, 0.32955933, 0.6341772, 0.4243663, -0.6704407, 3.3841772, 0.4243663, -0.6704407, 4.384177, 0.4243663, -1.4204407, 4.384177, 0.4243663, -1.9204407, 8.884177, 0.4243663, -3.4204407, 4.634177, 0.4243663, -3.4204407, 4.634177, 0.4243663, 0.32955933, 8.884177, 0.4243663, 0.32955933, -0.3658228, 0.4243663, -1.9204407, -0.6158228, 0.4243663, -3.4204407, -4.865823, 0.4243663, -3.4204407, -4.865823, 0.4243663, 0.32955933, -0.6158228, 0.4243663, 0.32955933, -0.3658228, 0.4243663, -1.4204407, 1.8841772, 0.4243663, 6.3295593, 2.3841772, 0.4243663, 6.3295593, 2.6341772, 0.4243663, 5.5795593, 1.6341772, 0.4243663, 5.5795593, 8.134177, 0.4243663, 5.5795593, 8.134177, 0.4243663, 2.0795593, 3.8841772, 0.4243663, 2.3295593, 3.3841772, 0.4243663, 1.5795593, 0.3841772, 0.4243663, 5.5795593, 9.634177, 0.4243663, 2.3295593, 15.384177, 0.4243663, 5.5795593, 1.8841772, 0.4243663, 7.0795593, 2.3841772, 0.4243663, 7.0795593, 3.1341772, 0.4243663, 15.329559, 0.8841772, 0.4243663, 13.579559, -2.8658228, 0.4243663, 13.829559, -8.615823, 0.4243663, 15.329559, -7.365823, 0.4243663, 7.0795593, -7.865823, 0.4243663, 7.0795593, 1.3841772, 0.4243663, 13.079559, 1.3841772, 0.4243663, 7.3295593, 3.1341772, 0.4243663, 7.3295593, -6.615823, 0.4243663, 7.3295593, -8.615823, 0.4243663, 7.3295593, -6.615823, 0.4243663, 13.329559, 0.3841772, 0.4243663, 12.329559, 0.3841772, 0.4243663, 7.0795593, -0.11582279, 0.4243663, 11.829559, -5.365823, 0.4243663, 12.329559, -5.365823, 0.4243663, 11.829559, 4.134177, 0.4243663, 7.0795593, 4.134177, 0.4243663, 11.579559, 4.634177, 0.4243663, 7.3295593)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(7, 6, 4), PackedInt32Array(4, 6, 5), PackedInt32Array(10, 9, 8), PackedInt32Array(6, 7, 11), PackedInt32Array(11, 7, 14), PackedInt32Array(11, 14, 12), PackedInt32Array(12, 14, 13), PackedInt32Array(12, 13, 8), PackedInt32Array(8, 13, 10), PackedInt32Array(15, 9, 16), PackedInt32Array(16, 9, 10), PackedInt32Array(0, 17, 3), PackedInt32Array(3, 17, 18), PackedInt32Array(18, 17, 15), PackedInt32Array(15, 17, 9), PackedInt32Array(22, 21, 19), PackedInt32Array(19, 21, 20), PackedInt32Array(5, 23, 4), PackedInt32Array(4, 23, 24), PackedInt32Array(24, 23, 25), PackedInt32Array(25, 23, 26), PackedInt32Array(29, 28, 27), PackedInt32Array(31, 30, 32), PackedInt32Array(32, 30, 33), PackedInt32Array(34, 29, 35), PackedInt32Array(35, 29, 36), PackedInt32Array(36, 29, 27), PackedInt32Array(36, 27, 37), PackedInt32Array(35, 33, 38), PackedInt32Array(38, 33, 30), PackedInt32Array(38, 30, 26), PackedInt32Array(38, 26, 23), PackedInt32Array(35, 38, 34), PackedInt32Array(37, 39, 36), PackedInt32Array(23, 40, 38), PackedInt32Array(1, 2, 41), PackedInt32Array(41, 2, 42), PackedInt32Array(44, 43, 45), PackedInt32Array(45, 43, 42), PackedInt32Array(48, 47, 46), PackedInt32Array(42, 49, 45), PackedInt32Array(41, 48, 50), PackedInt32Array(50, 48, 46), PackedInt32Array(50, 46, 51), PackedInt32Array(52, 48, 43), PackedInt32Array(43, 48, 42), PackedInt32Array(42, 48, 41), PackedInt32Array(55, 54, 53), PackedInt32Array(58, 57, 53), PackedInt32Array(53, 57, 56), PackedInt32Array(53, 56, 55), PackedInt32Array(60, 59, 58), PackedInt32Array(58, 59, 57), PackedInt32Array(60, 62, 61), PackedInt32Array(59, 60, 63), PackedInt32Array(63, 60, 64), PackedInt32Array(64, 60, 61), PackedInt32Array(57, 65, 56), PackedInt32Array(56, 65, 25), PackedInt32Array(25, 65, 24), PackedInt32Array(66, 69, 67), PackedInt32Array(67, 69, 68), PackedInt32Array(73, 72, 70), PackedInt32Array(70, 72, 71), PackedInt32Array(76, 75, 74), PackedInt32Array(70, 77, 68), PackedInt32Array(69, 79, 78), PackedInt32Array(70, 68, 73), PackedInt32Array(73, 68, 69), PackedInt32Array(73, 69, 78), PackedInt32Array(73, 78, 80), PackedInt32Array(81, 54, 55), PackedInt32Array(72, 84, 71), PackedInt32Array(71, 84, 82), PackedInt32Array(82, 84, 83), PackedInt32Array(82, 85, 71), PackedInt32Array(76, 74, 87), PackedInt32Array(87, 74, 86), PackedInt32Array(87, 86, 88), PackedInt32Array(84, 89, 83), PackedInt32Array(92, 91, 90), PackedInt32Array(88, 93, 87), PackedInt32Array(94, 81, 95), PackedInt32Array(95, 81, 55), PackedInt32Array(80, 95, 73), PackedInt32Array(73, 95, 55), PackedInt32Array(90, 94, 96), PackedInt32Array(96, 94, 95), PackedInt32Array(80, 78, 87), PackedInt32Array(87, 78, 76), PackedInt32Array(96, 98, 90), PackedInt32Array(90, 98, 97), PackedInt32Array(90, 97, 92), PackedInt32Array(101, 100, 99), PackedInt32Array(31, 32, 102), PackedInt32Array(102, 104, 101), PackedInt32Array(101, 104, 105), PackedInt32Array(105, 104, 103), PackedInt32Array(105, 103, 106), PackedInt32Array(107, 112, 108), PackedInt32Array(108, 112, 111), PackedInt32Array(108, 111, 110), PackedInt32Array(108, 110, 109), PackedInt32Array(107, 31, 112), PackedInt32Array(112, 31, 99), PackedInt32Array(99, 31, 102), PackedInt32Array(99, 102, 101), PackedInt32Array(113, 116, 114), PackedInt32Array(114, 116, 115), PackedInt32Array(118, 117, 119), PackedInt32Array(119, 117, 115), PackedInt32Array(99, 100, 120), PackedInt32Array(120, 119, 99), PackedInt32Array(99, 119, 116), PackedInt32Array(99, 116, 121), PackedInt32Array(115, 116, 119), PackedInt32Array(117, 118, 122), PackedInt32Array(51, 46, 122), PackedInt32Array(117, 122, 123), PackedInt32Array(123, 122, 46), PackedInt32Array(125, 124, 114), PackedInt32Array(114, 124, 113), PackedInt32Array(127, 126, 128), PackedInt32Array(128, 126, 129), PackedInt32Array(131, 66, 130), PackedInt32Array(130, 66, 67), PackedInt32Array(127, 132, 126), PackedInt32Array(124, 125, 133), PackedInt32Array(133, 125, 134), PackedInt32Array(133, 134, 132), PackedInt32Array(132, 134, 126), PackedInt32Array(130, 135, 131), PackedInt32Array(131, 135, 136), PackedInt32Array(136, 135, 137), PackedInt32Array(136, 137, 129), PackedInt32Array(137, 128, 129), PackedInt32Array(140, 139, 138), PackedInt32Array(142, 140, 141), PackedInt32Array(141, 140, 138), PackedInt32Array(145, 144, 143)]
agent_height = 1.0
agent_radius = 0.25

[node name="Game" type="Node"]

[node name="DoorSets" type="Node" parent="."]

[node name="DoorSetA" type="Node" parent="DoorSets" node_paths=PackedStringArray("a_doors", "b_doors", "ab_switches")]
script = ExtResource("1_2eeft")
a_doors = [NodePath("Door3")]
b_doors = [NodePath("GhostDoor")]
ab_switches = [NodePath("Switch2")]
symbol_a = ExtResource("4_deeqb")
symbol_b = ExtResource("5_q7h7c")

[node name="GhostDoor" parent="DoorSets/DoorSetA" instance=ExtResource("6_1hpkv")]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, -5.5, 0.25, 4)

[node name="Door3" parent="DoorSets/DoorSetA" instance=ExtResource("7_yam7v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.125, 0.125, -6.75)

[node name="Switch2" parent="DoorSets/DoorSetA" instance=ExtResource("8_gokrx")]
transform = Transform3D(-1, 0, -8.742278e-08, 0, 1, 0, 8.742278e-08, 0, -1, -11.625, 1, 0.875)

[node name="DoorSetB" type="Node" parent="DoorSets" node_paths=PackedStringArray("a_doors", "b_doors", "ab_switches")]
script = ExtResource("1_2eeft")
a_doors = [NodePath("GhostDoor2")]
b_doors = [NodePath("Door2")]
ab_switches = [NodePath("Switch4")]
symbol_a = ExtResource("2_v4v8k")
symbol_b = ExtResource("3_oibj5")

[node name="GhostDoor2" parent="DoorSets/DoorSetB" instance=ExtResource("6_1hpkv")]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, -10.1, 0.25, 4)

[node name="Door2" parent="DoorSets/DoorSetB" instance=ExtResource("7_yam7v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.125, 0.125, -1.625)

[node name="Switch4" parent="DoorSets/DoorSetB" instance=ExtResource("8_gokrx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.5, 1, -9.25)

[node name="DoorSetC" type="Node" parent="DoorSets" node_paths=PackedStringArray("a_doors", "b_doors", "ab_switches")]
script = ExtResource("1_2eeft")
a_doors = [NodePath("GhostDoor4")]
b_doors = [NodePath("Door")]
ab_switches = [NodePath("Switch")]
symbol_a = ExtResource("9_q7h7c")
symbol_b = ExtResource("10_1hpkv")

[node name="Door" parent="DoorSets/DoorSetC" instance=ExtResource("7_yam7v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.125, 0.125, -1.625)

[node name="GhostDoor4" parent="DoorSets/DoorSetC" instance=ExtResource("6_1hpkv")]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, 4.1, 0.25, -6.75)

[node name="Switch" parent="DoorSets/DoorSetC" instance=ExtResource("8_gokrx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.5, 1, 1.5)

[node name="DoorSetD" type="Node" parent="DoorSets" node_paths=PackedStringArray("a_doors", "b_doors", "ab_switches")]
script = ExtResource("1_2eeft")
a_doors = [NodePath("GhostDoor3")]
b_doors = [NodePath("Door3")]
ab_switches = [NodePath("Switch3")]
symbol_a = ExtResource("11_yam7v")
symbol_b = ExtResource("12_gokrx")

[node name="Door3" parent="DoorSets/DoorSetD" instance=ExtResource("7_yam7v")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 16, 0, -7.725)

[node name="GhostDoor3" parent="DoorSets/DoorSetD" instance=ExtResource("6_1hpkv")]
transform = Transform3D(0.7, 0, 0, 0, 0.7, 0, 0, 0, 0.7, 4.1, 0.25, -1.5)

[node name="Switch3" parent="DoorSets/DoorSetD" instance=ExtResource("8_gokrx")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.625, 1, -4)

[node name="Player" parent="." instance=ExtResource("9_lv1cq")]
transform = Transform3D(7.54979e-08, 0, 1, 0, 1, 0, -1, 0, 7.54979e-08, -2.9649057, 0, 3.979638)

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_q7h7c")

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 2, 0)
vertices = PackedVector3Array(-21.75, 0, -19.25, 19.5, 0, -19.375, 19.625, 0, 16.125, -21.75, 0, 16.125)
affect_navigation_mesh = true

[node name="NavigationObstacle3D" type="NavigationObstacle3D" parent="NavigationRegion3D/NavigationObstacle3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14.549999, -2.65, 0)
height = 3.65
vertices = PackedVector3Array(-4.5750003, 0, -9.525001, 5.3250003, 0, -9.525001, 5.3250003, 0, 7.1250005, -4.5750003, 0, 7.1250005)
affect_navigation_mesh = true

[node name="Level" parent="NavigationRegion3D" instance=ExtResource("7_erv2c")]
transform = Transform3D(0.4, 0, 0, 0, 0.4, 0, 0, 0, 0.4, 0, 0, 0)

[node name="Roof" parent="NavigationRegion3D/Level/Environment" index="0"]
visible = true

[node name="Enemy" parent="." instance=ExtResource("15_erv2c")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 7, 0, 3.875)

[editable path="NavigationRegion3D/Level"]
